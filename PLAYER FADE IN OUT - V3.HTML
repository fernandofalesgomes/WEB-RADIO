<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Player Futurista</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { margin:0; background:#0a0a0a; font-family:'Orbitron',sans-serif; color:#0ff; display:flex; justify-content:center; align-items:center; height:100vh; overflow:hidden; }
    .player { background:#111; border:2px solid #0ff; border-radius:20px; padding:30px; width:95%; max-width:400px; text-align:center; box-shadow:0 0 40px #0ff; }
    .logo { width:120px; height:120px; margin:0 auto 20px; border:2px solid #0ff; border-radius:50%; overflow:hidden; box-shadow:0 0 30px #0ff; background:#000; }
    .logo img { width:100%; height:100%; object-fit:cover; }
    audio { display:none; }
    .btn { background:#000; border:2px solid #0ff; color:#0ff; border-radius:50%; width:80px; height:80px; font-size:32px; cursor:pointer; box-shadow:0 0 15px #0ff; transition:all .2s; display:flex; justify-content:center; align-items:center; margin:auto; }
    .btn:hover { background:#0ff; color:#000; box-shadow:0 0 25px #0ff; }
    .volume-container { margin-top:20px; display:flex; align-items:center; justify-content:center; gap:10px; flex-wrap:wrap; font-size:18px; }
    input[type=range]{width:200px;}
    .led-container{display:flex; justify-content:center; gap:5px; margin-top:25px; height:60px;}
    .led{width:10px; background:#0ff; border-radius:3px; animation:bounce 1s infinite ease-in-out; box-shadow:0 0 15px #0ff;}
    .led:nth-child(1){animation-delay:0s;} .led:nth-child(2){animation-delay:0.2s;} .led:nth-child(3){animation-delay:0.4s;} .led:nth-child(4){animation-delay:0.6s;} .led:nth-child(5){animation-delay:0.8s;}
    @keyframes bounce{0%,100%{height:20%;}50%{height:100%;}}
    .status{margin-top:10px;font-size:14px;color:#0ff;min-height:20px;}
  </style>
</head>
<body>
  <div class="player">
    <div class="logo"><img src="https://via.placeholder.com/150" alt="Logo"></div>
    <audio id="audio"></audio>
    <div><button class="btn" id="play"><i class="fa-solid fa-play"></i></button></div>
    <div class="volume-container">Volume: <input type="range" id="volume" min="0" max="1" step="0.01" value="1"></div>
    <div class="led-container"><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div></div>
    <p class="status" id="status">Pronto para tocar</p>
  </div>

  <script>
    const musicas = ["https://github.com/fernandofalesgomes/WEB-RADIO/raw/refs/heads/main/05%20-%20CONEXAO%20TOTAL%20ROM%20INTERN.aac","https://github.com/fernandofalesgomes/WEB-RADIO/raw/refs/heads/main/04%20-%20CONEXAO%20TOTAL%20MPB%20CLASSICOS%20.aac","https://github.com/fernandofalesgomes/WEB-RADIO/raw/refs/heads/main/13%20-%20VIAJEM%20MUSICAL%2001%20%20mpb%20pasta%20%20as%2035%20%20primeiras.aac"];
    const comerciais = ["https://www.dropbox.com/scl/fi/p174vkjfoqw9xsfve05al/CARVALHO-TINTAS.mp3?rlkey=c4j9fuujmule7rqfg7aqh3bgm&st=0tejxcot&raw=1","https://www.dropbox.com/scl/fi/ycx1b635no5wn7925n35a/COMERCIAL_CHACARA-F-PARK-HOTEL-COMERCIAL-BRENDA-1.mp3?rlkey=z7rqmrorj1299qko0xwilr1nb&st=hhjj9lv0&raw=1","https://www.dropbox.com/scl/fi/myq33b12pzn9g3yzr2epx/HEMOCE-ALEX.mp3?rlkey=qen65ojnpewbgj9sqhod9n8e1&st=7vz7w5pz&raw=1","https://www.dropbox.com/scl/fi/59fj5vzkuxg0brq837xok/PONTO-DA-CONSTRU-O-23-05-2025.mp3?rlkey=u9atd56k14kiogm6rzg77mw50&st=pw8mii83&raw=1"];
    const modo = "tempo";
    const valor = 3;

    let playlist = [...musicas];
    let indiceMusica = 0;
    let indiceComercial = 0;
    let tocandoComercial = false;
    let contadorMusicas = 0;
    let posicaoMusica = 0;

    const audio = document.getElementById('audio');
    const playBtn = document.getElementById('play');
    const status = document.getElementById('status');
    const volume = document.getElementById('volume');

    function embaralhar(lista){
      for(let i=lista.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [lista[i],lista[j]]=[lista[j],lista[i]];
      }
    }

    function fadeAudio(target,callback){
      const step=0.05, interval=100;
      const fade=setInterval(()=>{
        if(Math.abs(audio.volume-target)<step){
          audio.volume=target; clearInterval(fade);
          if(callback)callback();
        } else {
          audio.volume+=(target>audio.volume?step:-step);
        }
      },interval);
    }

    function tocarMusica(){
      if(indiceMusica>=playlist.length){ embaralhar(playlist); indiceMusica=0; }
      audio.src=playlist[indiceMusica];
      audio.currentTime=posicaoMusica||0;
      audio.play().then(()=>{fadeAudio(1);});
      status.textContent="🎵 Tocando música...";
      playBtn.innerHTML='<i class="fa-solid fa-pause"></i>';
      indiceMusica++; contadorMusicas++;
    }

    function tocarComercial(){
      if(comerciais.length===0)return;
      if(indiceComercial>=comerciais.length)indiceComercial=0;
      tocandoComercial=true;
      posicaoMusica=audio.currentTime;
      fadeAudio(0,()=>{
        audio.src=comerciais[indiceComercial];
        audio.volume=1;
        audio.play().catch(()=>{indiceComercial++; tocandoComercial=false; tocarMusica();});
        status.textContent="📢 Tocando comercial...";
      });
      indiceComercial++;
    }

    audio.addEventListener('ended',()=>{
      if(tocandoComercial){ tocandoComercial=false; tocarMusica(); }
      else {
        if(modo==="quantidade" && contadorMusicas>=valor && comerciais.length>0){
          contadorMusicas=0; tocarComercial();
        } else { tocarMusica(); }
      }
    });

    audio.onerror=()=>{ if(tocandoComercial){tocandoComercial=false;tocarMusica();} else {tocarMusica();} };

    playBtn.addEventListener('click',()=>{
      if(audio.paused){ tocarMusica(); }
      else { audio.pause(); playBtn.innerHTML='<i class="fa-solid fa-play"></i>'; status.textContent="⏸️ Pausado"; }
    });

    volume.addEventListener('input',()=>{audio.volume=volume.value;});

    if(modo==="tempo"){
      setInterval(()=>{ if(!tocandoComercial && comerciais.length>0){ tocarComercial(); } }, valor*60*1000);
    }
  </script>
</body>
</html>